<div class="rounded-lg border border-gray-200 dark:border-gray-700 p-4">
  <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">Projects</h3>

  <div class="space-y-4">
    <% @project_items.each do |item| %>
      <div class="border-b border-gray-100 dark:border-gray-800 last:border-0 pb-3 last:pb-0">
        <!-- Project Title with Link and Icon -->
        <div class="mb-2 flex items-center gap-1.5">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="flex-shrink-0 text-gray-600 dark:text-gray-400" viewBox="0 0 16 16">
            <path d="M13.5 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm-11-1a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
            <path d="M6.5 3a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1zm-4 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1zm8 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1z"/>
          </svg>
          <% if item[:project_url] %>
            <%= link_to item[:project_title], item[:project_url],
                target: "_blank",
                rel: "noopener noreferrer",
                class: "text-sm font-medium text-gray-900 dark:text-white hover:underline" %>
          <% else %>
            <span class="text-sm font-medium text-gray-900 dark:text-white"><%= item[:project_title] %></span>
          <% end %>
        </div>

        <!-- Project Fields -->
        <% if item[:fields].any? %>
          <dl class="space-y-1.5">
            <% item[:fields].each do |field_name, value| %>
              <div class="flex items-baseline justify-between gap-2">
                <dt class="text-xs text-gray-500 dark:text-gray-400 flex-shrink-0"><%= field_name %></dt>
                <dd class="text-xs text-gray-900 dark:text-gray-200 text-right truncate" title="<%= value %>">
                  <%= field_display_value(value) %>
                </dd>
              </div>
            <% end %>
          </dl>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
